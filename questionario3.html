<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionário 3</title>
    <link rel="stylesheet" href="estilos.css">
</head>
<body style="background-color:rgb(70,130,180);">
    <div class="caixa_de_navegacao">
        <!-- TITULO -->
        <div class="titulo">
            <br>
            <a href="#">SCRUM ACADEMY</a>
        </div>
        <a href="#"><img class="logo" src="img/logo_site.png" alt="Logo"></a>

        <!-- PERFIL -->
        <div class="caixaperfil">
            <br><br><br><br><br><br><br>
            <p class="Lorem Ipsum">Lorem Ipsum</p>
            <a href="mailto:LoremIpsum@fatec.sp.gov.br" class="LoremIpsum">LoremIpsum@fatec.sp.gov.br</a>
            <br>
        </div>
        <a href="#"><img class="fotodeperfil" src="img/semftperfil.PNG" alt="Foto de perfil"></a>

        <!-- NAVEGAÇÃO -->
        <div class="caixanavegacao">
            <p><a href="inicio_do_curso.html">Início</a></p>
            <p><a href="introducao.html">Introdução</a></p>
            <p><a href="modulo1_pg1.html">Módulo 1</a></p>
            <p><a href="modulo2_pg1.html">Módulo 2</a></p>
            <p><a href="modulo3_pg1.html">Módulo 3</a></p>
            <p><a href="modulo4_pg1.html">Módulo 4</a></p>
        </div>

        <!-- NAVEGAÇÃO QUESTIONÁRIO -->
        <div class="caixanavegacao_questionario">
            <p><a href="#">Questionários</a></p>
            <p><a href="#">Módulo 1</a></p>
            <p><a href="#">Módulo 2</a></p>
            <p><a href="#">Módulo 3</a></p>
            <p><a href="#">Módulo 4</a></p>
            <p><a href="#">Certificação</a></p>
        </div>

        <!-- CONTEÚDO -->
        <form id="quizForm">
            <div class="conteudomodulo">
                <br>
                Questionário: Módulo 3

                <div>
                    <label for="q1">1- A Sprint Planning é a reunião onde a equipe define o que será realizado na próxima Sprint.</label><br>
                    <p><input type="radio" name="quest1" id="verdadeiro1" value="1">
                    <label for="verdadeiro">Verdadeiro</label></p><!--Correto-->
                    <p><input type="radio" name="quest1" id="falso1" value="0" checked>
                    <label for="falso">Falso</label></p>
                </div>
                <br>

                <div>
                    <label for="q2">2- O Daily Scrum deve durar, no máximo, 30 minutos e é realizado apenas para atualizar o Scrum Master sobre o progresso da equipe.</label>
                    <p><input type="radio" name="quest2" id="verdadeiro2" value="0">
                    <label for="verdadeiro">Verdadeiro</label></p>
                    <p><input type="radio" name="quest2" id="falso2" value="1" checked>
                    <label for="falso">Falso</label></p><!--Correto-->
                </div>
                <br>

                <div>
                    <label for="q3">3- As Sprints devem ter uma duração fixa de duas semanas e não podem ser alteradas.</label>
                    <p><input type="radio" name="quest3" id="verdadeiro3" value="0">
                    <label for="verdadeiro">Verdadeiro</label></p>
                    <p><input type="radio" name="quest3" id="falso3" value="1" checked>
                    <label for="falso">Falso</label></p><!--Correto-->
                </div>
                <br>

                <!-- BOTOES -->
                <p>
                    <button type="button" id="corrigirButton" onclick="verificarRespostas()" style="background-color: #a7d4ff; border-width: 3px;height: 60px; width: 160px; font-size: xx-large; border: solid black 2px">
                        Corrigir
                    </button>
                    <input type="button" id="enviarButton" value="Enviar" style="background-color: #a7d4ff; border-width: 3px;height: 60px; width: 160px; font-size: xx-large; border: solid black 2px;" disabled>
                </p>
            </div>
        </form>

        <p id="resultado"></p>
        <p id="timer" style="font-size: xx-large; color: white;"></p> <!-- Exibição do temporizador -->
    </div>

    <script>
        var tentativaErrada = false;
        var tempoEspera = 1 * 60 * 1000; // 1 minuto em milissegundos
        var tempoRestante = tempoEspera; // Inicializa o tempo restante com 1 minuto
        var tempoBloqueio = null;

        function verificarRespostas() {
            var acertos = 0;

            // Verificando as respostas
            var respostaQ1 = document.querySelector('input[name="quest1"]:checked');
            var respostaQ2 = document.querySelector('input[name="quest2"]:checked');
            var respostaQ3 = document.querySelector('input[name="quest3"]:checked');

            // Se o usuário respondeu corretamente, aumenta a contagem de acertos
            if (respostaQ1 && respostaQ1.value === "1") acertos++;
            if (respostaQ2 && respostaQ2.value === "1") acertos++;
            if (respostaQ3 && respostaQ3.value === "1") acertos++;

            // Exibe o resultado
            var resultado = document.getElementById('resultado');
            if (acertos >= 2) {
                resultado.textContent = "Você passou no questionário! Acertos: " + acertos;

                // Habilitar o botão "Enviar"
                document.getElementById('enviarButton').disabled = false;
            } else {
                resultado.textContent = "Você não passou. Acertos: " + acertos;

                // Desabilitar o botão "Enviar"
                document.getElementById('enviarButton').disabled = true;
                tentativaErrada = true;
                bloquearTentativas();
            }
        }

        function bloquearTentativas() {
            // Desabilitar o botão "Corrigir"
            document.getElementById('corrigirButton').disabled = true;

            // Iniciar o temporizador
            tempoRestante = tempoEspera;
            atualizarTimer();

            // Configurar o tempo de bloqueio
            tempoBloqueio = setInterval(function() {
                tempoRestante -= 1000; // Decrementa 1 segundo

                if (tempoRestante <= 0) {
                    clearInterval(tempoBloqueio); // Para o temporizador quando o tempo acaba
                    document.getElementById('corrigirButton').disabled = false;
                    tentativaErrada = false;
                } else {
                    atualizarTimer();
                }
            }, 1000);
        }

        function atualizarTimer() {
            var minutos = Math.floor(tempoRestante / 60000); // Extrai os minutos
            var segundos = Math.floor((tempoRestante % 60000) / 1000); // Extrai os segundos
            document.getElementById('timer').textContent = "Aguarde: " + minutos + "m " + segundos + "s";
        }
    </script>
</body>
</html>
